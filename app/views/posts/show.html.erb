<p id="notice"><%= notice %></p>

<p>
  <strong>Title:</strong>
  <%= @post.title %>
</p>

<p>
  <strong>Body:</strong>
  <%= @post.body %>
</p>

  <%= image_tag(@post.photo, width: 200) if @post.photo.attached? %><br>

<%= link_to 'Edit', edit_post_path(@post) %> |
<%= link_to 'Back', posts_path %><br><br>

<%image = MiniMagick::Image.open(@post.photo)%>
<% properties = image.data["properties"]%>
<% profiles = image.data["profiles"]%>
<% iptc= image.data["profiles"]["iptc"]%>

<table>
<tr>
            <th>key</th>
            <th>value</th>
</tr>
<tr>
    
<td><b>Title</b></td>
    <%if iptc["Image Name[2,5]"]%>
    <td> <%=iptc["Image Name[2,5]"].join(",")%></td>
    <%else%>
        <td> <%=%></td>
    <%end%>
</tr>
<tr>
    <td><b>Image type</b></td>
        <td><%=image.type%></td>
</tr>
<tr>
    <td><b>Image mime type</b></td>
        <td> <%=image.mime_type%></td>
</tr>
<tr>
    <td><b>Image width</b></td>
        <td>  <%=image.width%> px</td>
</tr>
<tr>
    <td><b>Image Height</b></td>
        <td> <%=image.height%> px</td>
</tr>
<tr>
    <td><b>Image Size</b></td>
        <td> <%=image.data["filesize"]%> </td>
</tr>

</%properties values%>
<tr>
    
    <td><b>Date created</b></td>
        <td> <%=properties["date:create"] %></td>
</tr>
<tr>
    
    <td><b>Date modified</b></td>
        <td> <%=properties["date:modify"]%></td>
</tr>
<tr>
    
    <td><b>Copyright</b></td>
        <td> <%=properties["exif:Copyright"]%></td>
</tr>
<tr>
    
    <td><b>Photographer</b></td>
        <td> <%=properties["exif:Artist"]%></td>
</tr>
<tr>
    
    <td><b>Description</b></td>
        <td> <%=properties["exif:ImageDescription"]%></td>
</tr>
<td><b>Sub Location</b></td>
    <% if iptc["Sub-Location[2,92]"]%>
        <td> <%=iptc["Sub-Location[2,92]"].join(",")%></td>
    <%else%>
        <td> <%=%></td>
    <%end%>
</tr>
<tr>
    
    <td><b>Make</b></td>
        <td> <%=properties["exif:Make"]%></td>
</tr>
<tr>
    
    <td><b>Model</b></td>
        <td> <%=properties["exif:Model"]%></td>
</tr>
<tr>
    
    <td><b>Exif Software</b></td>
        <td> <%=properties["exif:Software"]%></td>
</tr>

</%iptc values%>
<tr>
    
    <td><b>Keywords</b></td>
        <td> <%=iptc["Keyword[2,25]"]%></td>
</tr>

     
</table>
<hr>

<table class='extra-table'>
<% image.data.each do |key, value| %>
                <tr >
                    <td><b><%=key %></b></td> 
                    <td> <%=value%></td>
                </tr>
            <% end%>
</table>


<button class="extra-button">extra</button>
<button class="extra-close">close extra</button>

<script type="text/javascript">
    var button = document.querySelector('.extra-button')
    var close = document.querySelector('.extra-close')

        button.addEventListener('click', (evt) => {
            document.querySelector('.extra-table').style.display = "block"
            button.style.display = 'none'
            close.style.display = 'block'
        })

          close.addEventListener('click', (evt) => {
            document.querySelector('.extra-table').style.display = "none"
            button.style.display = 'block'
            close.style.display = 'none'
        })
 
</script>

      
   